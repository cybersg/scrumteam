<div class="row">
	<div class="col-md-3">Show history starting from:</div>
	<div class="col-md-3">
		<select data-bind="options: availSprints,
		optionsText: 'name',
		optionsValue: 'number',
		value: selectedSprint,
		optionsCaption: 'Choose a sprint',
		event: {change: showHistory}">			
		</select>
	</div>
	<div class="col-md-3">or search for tasks:</div>
	<div class="col-md-3">
		<form data-bind="submit: searchTasks">
			<input type="text" data-bind="value: phrase">
		</form>
	</div>
</div>

<table class="table">
	<tbody data-bind="foreach: sprints">
		<tr>
			<td><h4 data-bind="text:name"></h4>
			</td>
		</tr>
		<tr>
			<td>
				<table class="table">
				<thead><tr>
					<td>Task</td>
					<td></td>
					<td>Estimated</td>
					<td>Spent</td>
					<td>Ratio</td>
				</tr></thead>
				<tbody data-bind="foreach: $data.tasks">
					<tr>
						<td data-bind="html: title"></td>
						<td>
							<table class="table" data-bind="visible: $data.subtasks().length > 0">
								<thead><tr>
									<td>Subtask</td>
									<td>Estimated</td>
									<td>Spent</td>
									<td>Ratio</td>
								</tr></thead>
								<tbody class="table" data-bind="foreach: $data.subtasks">
									<tr>
										<td data-bind="html: title"></td>
										<td data-bind="text: estimated"></td>
										<td data-bind="text: spent"></td>
										<td data-bind="text: ratio"></td>
									</tr>
								</tbody>
							</table>
						</td>
						<td data-bind="text: estimated"></td>
						<td data-bind="text: spent"></td>
						<td data-bind="text: ratio"></td>
					</tr>
				</tbody>
			</td>
		</tr>
	</tbody>
</table>
